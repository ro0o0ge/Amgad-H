<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="AbsentEmp" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d55ee861-a853-404f-9840-b486e24ee179">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 6">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 6_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 6_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 6_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 7_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 8">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 8_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 8_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 8_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 9">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 9_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 9_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 9_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="EmpAbsent" uuid="7fa3e08f-e09a-47fc-acd0-cf6052a5f67b">
		<parameter name="p_id" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[$P{p_id}]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select ifnull(ea.EA_DESC,"none")as EA_DESC,
     IF(ea.ABSCENCE_TYPE = 1, "d", "a")as type,
     concat(ea.TIME_AMOUNT," ",IF(ea.TIME_TYPE = 1, "m", "d"))as duration,
     SUBSTRING_INDEX(ea.EA_DATE, " ", 1)as date
from employee_attendance ea
left join staff s on ea.ST_ID = s.ST_ID
left join teacher t on ea.T_ID = t.T_ID
where ea.ABSCENCE_TYPE in (1) and (t.P_ID=$P{p_id} or s.P_ID=$P{p_id}) order by 4 desc,2]]>
		</queryString>
		<field name="EA_DESC" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="type" class="java.lang.String"/>
		<field name="duration" class="java.lang.String"/>
		<field name="date" class="java.lang.String"/>
		<variable name="variable1" class="java.lang.Integer" calculation="Count">
			<variableExpression><![CDATA[$V{REPORT_COUNT}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="Eid" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[25]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select NAME from persons where P_ID = $P{Eid};]]>
	</queryString>
	<field name="NAME" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="class" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="100" splitType="Stretch">
			<staticText>
				<reportElement uuid="db915390-091c-4dd3-bb05-51be9ce76ca8" mode="Transparent" x="375" y="0" width="180" height="26" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="18" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[مدرسة الأمجاد الخاصة الجديدة]]></text>
			</staticText>
			<line>
				<reportElement uuid="05412d6c-9769-43bd-90ea-9d79c396d96c" x="0" y="73" width="555" height="1"/>
			</line>
			<textField>
				<reportElement uuid="fdbd3c9d-3411-423f-b819-62d820eb25c9" x="195" y="39" width="150" height="35"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NAME}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="2ee0f5b9-2df9-4c5b-b128-385262d6f81a" mode="Transparent" x="180" y="12" width="180" height="26" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" markup="none">
					<font fontName="Arial" size="18" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[كشف تأخير]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="2a8a2608-4f90-4c37-a89e-f25adc627af3" mode="Transparent" x="356" y="48" width="58" height="26" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="14" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[الاسم]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="50">
			<componentElement>
				<reportElement uuid="6414c50e-19fa-4b5a-85e3-8031db517bce" key="table 9" style="table 9" x="94" y="0" width="360" height="50"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="EmpAbsent" uuid="adf2ff62-f0ce-4ced-9bf0-30f4e955c830">
						<datasetParameter name="p_id">
							<datasetParameterExpression><![CDATA[$P{Eid}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="164" uuid="d62217cb-c2d5-47b8-a6e7-88ff0cad1944">
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement uuid="f077cc07-c070-4300-9cab-cd24a5152997" x="0" y="0" width="164" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$V{variable1}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table 9_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="5d086031-c31b-4e39-94bc-40d759f30ef1" x="0" y="0" width="164" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="14"/>
								</textElement>
								<text><![CDATA[ملاحظات]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 9_TD" height="30" rowSpan="1">
							<textField>
								<reportElement uuid="64111e25-8d7f-42b1-8c9f-c90e44907a0c" x="0" y="0" width="164" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{EA_DESC}.replaceAll( "none", "لايوجد" )]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="5407b956-f30c-4f48-8201-674d635ad480">
						<jr:columnHeader style="table 9_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="9798172b-244a-4b04-8c46-cae6f460f200" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="14"/>
								</textElement>
								<text><![CDATA[المدة]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 9_TD" height="30" rowSpan="1">
							<textField>
								<reportElement uuid="7c5ac1ed-377c-49d1-b314-e188239d5de5" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{duration}.replaceAll( "m", "دقيقة" ).replaceAll("d", "يوم" )]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="875bdca1-8750-49fd-9653-9de3b62ac242">
						<jr:columnHeader style="table 9_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="aa65635c-9cfa-4913-93f0-2cd4b733cd02" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="14"/>
								</textElement>
								<text><![CDATA[النوع]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 9_TD" height="30" rowSpan="1">
							<textField>
								<reportElement uuid="16c2b756-733c-411c-91c3-e91ba8ab04a5" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="12" isPdfEmbedded="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{type}.replaceAll( "d", "تأخير" ).replaceAll( "a", "غياب" )]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="0930695d-5680-46f8-aca9-ce92599c755f">
						<jr:columnHeader style="table 9_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="23e5ab9a-0625-4d9c-a825-452363774af7" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="14"/>
								</textElement>
								<text><![CDATA[التاريخ]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 9_TD" height="30" rowSpan="1">
							<textField>
								<reportElement uuid="5c7aff2d-86e5-4a2c-b6ea-0539ca63fdf3" x="0" y="0" width="90" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{date}.toString().replaceAll("0", "\\\u0660").replaceAll("1", "\\\u0661").replaceAll("2", "\\\u0662")
     .replaceAll("3", "\\\u0663").replaceAll("4", "\\\u0664").replaceAll("5", "\\\u0665")
     .replaceAll("6", "\\\u0666").replaceAll("7", "\\\u0667").replaceAll("8", "\\\u0668")
     .replaceAll("9", "\\\u0669")]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="35" uuid="9dbd0bcd-b095-4f8c-8757-7de3ba617989">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="52eb120d-b62e-4fbe-afb9-9f6c9aab416e" x="0" y="0" width="35" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<text><![CDATA[اجمالي التأخير]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table 9_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="c28e1c1d-f2d9-41bb-9273-6d0c41802286" x="0" y="0" width="34" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="14"/>
								</textElement>
								<text><![CDATA[م]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 9_TD" height="30" rowSpan="1">
							<textField>
								<reportElement uuid="0cf182c8-fb40-4a44-a73d-b6b52093ae39" x="0" y="0" width="34" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="48">
			<staticText>
				<reportElement uuid="afcdef91-c327-4968-b47e-b2782e4f5227" mode="Transparent" x="475" y="0" width="80" height="27" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" markup="none">
					<font fontName="Arial" size="18" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[يعتمد]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
